<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  ahoj


  <script>
    let nestedBrackets = (S) => {
      let A = S.split('');
      let somethingDeleted = false;
      console.log(A);
      // A.splice(0, 2);
      // console.log(A);
      if (A.length < 2) {
        return 0;
      }
      let runThroughArray = (array) => {
        // let checkNeighbours = true;
        for (let i = 0; i < array.length; i++) {
          // checkMatchingPair(i,array)

          if ((array[i] == "(" && array[i + 1] == "]") || (array[i] == "(" && array[i + 1] == "}") ||
            (array[i] == "[" && array[i + 1] == ")") || (array[i] == "(" && array[i + 1] == "}") ||
            (array[i] == "{" && array[i + 1] == ")") || (array[i] == "(" && array[i + 1] == "]")
          ) {
            console.log('ERRORR FOUND');
            return 0;
          }

          while ((array[i] == "(" && array[i + 1] == ")") || (array[i] == "[" && array[i + 1] == "]") || (array[
              i] == "{" && array[i + 1] == "}")) {
            // console.log(array);
            array.splice(i, 2);
            console.log(i);
            console.log(array);
            somethingDeleted = true;
            if (array.length == 0) {
              return 1;
            } else if (array.length < 2) {
              return 0;
            }


            // let checkNeighbours = i => {
            //   //ahead
            //   if ((array[i] == "(" && array[i + 1] == ")") || (array[i] == "[" && array[i + 1] == "]") || (array[
            //       i] == "{" && array[i + 1] == "}")) {
            //     // console.log(array);
            //     array.splice(i, 2);
            //     // console.log(i);
            //     // console.log(array);
            //   } else if ((array[i - 1] == "(" && array[i] == ")") || (array[i - 1] == "[" && array[i] == "]") || (
            //       array[
            //         i - 1] == "{" && array[i] == "}")) {
            //     array.splice(i - 1, 2);
            //     i--;
            //   } else { //no neighbour pair found
            //   }

            // }

            // checkNeighbours(i);
          }

          if (somethingDeleted) {
            // console.log('i:', i);
            i -= 2;
            somethingDeleted = false;
            // console.log('i:', i);

            // i += 2;

          }
        }
      }


      return runThroughArray(A);
    }





    // let longA = [];
    // for (i = 102; i < 201; i++) {
    //   longA.push(i);
    // }
    // for (i = 0; i < 101; i++) {
    //   longA.push(i);
    // }
    // console.log(longA);


    // let a = [2];
    let a = [1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 0];
    let n = 1;
    // let s = '([({[]})][[][({()}{()}{()})]]({}){})';
    let s = '(())';

    let ans = nestedBrackets(s);
    console.log('Returned value:');
    console.log(ans);
  </script>

</body>

</html>