<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  ahoj


  <script>
    let spiral = (n) => {
      let x = 0;
      let y = 0;
      let countNow = 0;
      let count = n - 1;
      let direction = 1;
      let cycleDone = 0;
      let array = new Array(n);
      for (i = 0; i < n; i++) {
        array[i] = new Array(n);
      }
      // array[0][1] = 34;


      let insertNumberAdjustRest = () => {
        // console.log(y, x, ':', number);

        array[y][x] = number;
        countNow++;
        if (countNow == count) {
          countNow = 0;
          direction++;
          if (direction == 5) {
            direction = 1;
          }
          cycleDone++;
          if (cycleDone == 2) {
            count--;
            cycleDone = 0;
          }
        }
      }



      // assing all number till n*n
      for (number = 1; number <= n * n; number++) {

        // first line
        if (number <= n) {
          array[y][x] = number;
          x++;
        }
        // reset x position after finishing first line
        if (number == n) {
          x--;
          direction++; //2
          // console.log('x(zmensene o 1) is:', x);
          // console.log(y, x);
        }

        // rest
        if (number > n) {
          if (direction == 2) {
            y++;
            // console.log(y, x);
            insertNumberAdjustRest();
          } else if (direction == 3) {
            x--;
            insertNumberAdjustRest();
          } else if (direction == 4) {
            y--;
            insertNumberAdjustRest();
          } else if (direction == 1) {
            x++;
            insertNumberAdjustRest();
          }
        }



      }


      // console.log(array);
      return array;
    }





    // let longA = [];
    // for (i = 102; i < 201; i++) {
    //   longA.push(i);
    // }
    // for (i = 0; i < 101; i++) {
    //   longA.push(i);
    // }
    // console.log(longA);


    // let a = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0];
    // let b = "adbbddcdcdwaaxxa"
    // let b = "abcd"

    let n = 6;
    let ans = spiral(n);
    console.log('Returned value:');
    console.log(ans);
  </script>

</body>

</html>